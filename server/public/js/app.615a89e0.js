(function(){"use strict";var e={457:function(e,t,a){var s=a(144),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e._m(0),t("router-view")],1)},i=[function(){var e=this,t=e._self._c;return t("head",[t("link",{attrs:{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}})])}],n={name:"App"},o=n,d=a(1),l=(0,d.Z)(o,r,i,!1,null,null,null),c=l.exports,u=a(345),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"user"},[t("div",{staticClass:"flex"},[t("h1",[e._v("Your profile")]),t("span",{staticClass:"material-icons logout",on:{click:e.logout}},[e._v("logout")])]),t("h3",[e._v("Profile ID: 1")]),t("h3",[e._v("Name: Jan Kowalski")]),t("h3",[e._v("Email: testemail@gmail.com")]),t("h3",[e._v("Created at: 25.08.2022")])]),t("div",{staticClass:"flexcol"},[t("div",{staticClass:"main"},[t("div",{staticClass:"search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"btn",attrs:{type:"text",id:"search",name:"search",placeholder:"Search for car by name",maxlength:"50"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),t("span",{staticClass:"material-icons add"},[e._v("add")])])]),e.cars.length>0?t("div",e._l(e.cars,(function(e){return t("div",{key:e.id},[t("singleCar",{attrs:{id:e.id,producer:e.producer,model:e.model,prodDate:e.prodDate,purchaseDate:e.purchaseDate,mileage:e.mileage,recCreated:e.createdAt,recUpdated:e.updatedAt}})],1)})),0):e._e()])])},m=[],h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"item"},[t("div",{staticClass:"content"},[t("div",{staticClass:"flexcol"},[t("div",{staticClass:"data"},[e._v("ID: "+e._s(e.id))]),t("div",{staticClass:"data"},[e._v("Producent: "+e._s(e.producer))]),t("div",{staticClass:"data"},[e._v("Model: "+e._s(e.model))]),t("div",{staticClass:"data"},[e._v("Production Date: "+e._s(e.prodDate))]),t("div",{staticClass:"data"},[e._v("Date Of Purchase by the company: "+e._s(e.purchaseDate))]),t("div",{staticClass:"data"},[e._v("Car Mileage (km): "+e._s(e.mileage))]),t("div",{staticClass:"data"},[e._v("Record Created At: "+e._s(e.recCreated))]),t("div",{staticClass:"data"},[e._v("Record Updated At: "+e._s(e.recUpdated))])]),e._m(0)])])},v=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"options"},[t("span",{staticClass:"material-icons delete"},[e._v("delete")]),t("span",{staticClass:"material-icons edit"},[e._v("edit")])])}],g=a(629),f=a(669),C=a.n(f),_=a(702);s.ZP.use(g.ZP);var y=new g.ZP.Store({strict:!0,plugins:[(0,_.Z)()],state:{token:null,user:null,isUserLoggedIn:!1},mutations:{setToken(e,t){e.token=t,e.isUserLoggedIn=!!t},setUser(e,t){e.user=t}},actions:{setToken({commit:e},t){e("setToken",t)},setUser({commit:e},t){e("setUser",t)}}}),w=()=>C().create({baseURL:"",headers:{Auth:`Bearer ${y.state.token}`}}),b={getCars(e){return w().get("/",{params:{search:e}})},addCar(e){return w().post("add",e)},show(e){return w().get(`cars/${e}`)},edit(e){return w().put(`cars/${e.id}`,e)},deleteCar(e){return w().delete(`cars/${e}`)}},x={name:"singleCar",data(){return{}},async mounted(){this.isUserLoggedIn||this.$router.push({name:"Login"})},props:["id","producer","model","prodDate","purchaseDate","mileage","recCreated","recUpdated"],computed:{...(0,g.rn)(["isUserLoggedIn"])},methods:{navigateTo(e){this.$router.push(e)},async deleteItem(){if(confirm("Are you sure you want to delete?"))try{await b.deleteProduct(this.id),this.$router.push("products")}catch(e){console.log(e)}}}},k=x,N=(0,d.Z)(k,h,v,!1,null,"7185052f",null),P=N.exports,D=a(486),$=a.n(D),q={name:"carsList",components:{singleCar:P},data(){return{cars:[{}],search:""}},computed:{...(0,g.rn)(["isUserLoggedIn","user"])},mounted(){this.isUserLoggedIn||this.$router.push({name:"Login"})},watch:{search:$().debounce((async function(e){const t={name:"/"};""!==this.search&&(t.query={search:this.search}),this.$router.push(t)}),300),"$route.query.search":{immediate:!0,handler(e){this.search=e}},"$route.query.search":{immediate:!0,async handler(e){this.cars=(await b.getCars(e)).data}}},methods:{logout(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"Login"})}}},L=q,U=(0,d.Z)(L,p,m,!1,null,"fa6384ea",null),Z=U.exports,I=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"panel"},[t("h1",[e._v("Login")]),e.error?t("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"btn",attrs:{type:"text",id:"email",name:"email",placeholder:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"btn",attrs:{type:"password",id:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"Send",value:"Login"},on:{click:e.login}}),t("router-link",{attrs:{to:"register"}},[e._v("Register here ")])],1)])},O=[],A={register(e){return w().post("register",e)},login(e){return w().post("login",e)}},T={name:"loginPage",data(){return{email:"",password:"",error:null}},methods:{async login(){try{const e=await A.login({email:this.email,password:this.password});this.$store.dispatch("setToken",e.data.token),this.$store.dispatch("setUser",e.data.user),this.$router.push({name:"/"})}catch(e){this.error=e.response.data.error}}}},M=T,j=(0,d.Z)(M,I,O,!1,null,"67f0c50e",null),R=j.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"panel"},[t("h1",[e._v("Register now")]),e.error?t("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),t("div",{attrs:{id:"name"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"btn",attrs:{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",required:""},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"btn",attrs:{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",required:""},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"btn",attrs:{type:"text",id:"email",name:"email",placeholder:"Email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"btn",attrs:{type:"password",id:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"Send",value:"Sign up"},on:{click:e.register}}),t("router-link",{attrs:{to:"login"}},[e._v("Login here ")])],1)])},S=[],F={name:"registerPage",data(){return{firstName:"",lastName:"",email:"",password:"",error:null}},methods:{async register(){try{const e=await A.register({firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password});this.$store.dispatch("setToken",e.data.token),this.$store.dispatch("setUser",e.data.user),this.$router.push({name:"/"})}catch(e){this.error=e.response.data.error}}}},B=F,J=(0,d.Z)(B,E,S,!1,null,"96019f0e",null),K=J.exports,Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"panel"},[t("h1",[e._v("Add New Car")]),t("h3",[e._v("Producer")]),t("input",{staticClass:"btn",attrs:{type:"text",id:"producer",name:"producer",required:""}}),t("h3",[e._v("Model")]),t("input",{staticClass:"btn",attrs:{type:"text",id:"model",name:"model",required:""}}),t("h3",[e._v("Production Date")]),t("input",{staticClass:"btn",attrs:{type:"date",id:"prodDate",name:"prodDate",required:""}}),t("h3",[e._v("Date of purchase by the company")]),t("input",{staticClass:"btn",attrs:{type:"date",id:"purchaseDate",name:"purchaseDate",required:""}}),t("h3",[e._v("Car Mileage (km)")]),t("input",{staticClass:"btn",attrs:{type:"number",id:"mileage",name:"mileage",required:""}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"add",value:"Add"},on:{click:e.add}})])])},z=[],G={name:"newCar",data(){return{}},async mounted(){this.isUserLoggedIn||this.$router.push({name:"Login"})},computed:{...(0,g.rn)(["isUserLoggedIn"])},methods:{navigateTo(e){this.$router.push(e)},async deleteItem(){if(confirm("Are you sure you want to delete?"))try{await b.deleteProduct(this.id),this.$router.push("products")}catch(e){console.log(e)}}}},H=G,Q=(0,d.Z)(H,Y,z,!1,null,"d273c21c",null),V=Q.exports,W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"panel"},[t("h1",[e._v("Edit Car")]),t("h3",[e._v("Producer")]),t("input",{staticClass:"btn",attrs:{type:"text",id:"producer",name:"producer",required:""}}),t("h3",[e._v("Model")]),t("input",{staticClass:"btn",attrs:{type:"text",id:"model",name:"model",required:""}}),t("h3",[e._v("Production Date")]),t("input",{staticClass:"btn",attrs:{type:"date",id:"prodDate",name:"prodDate",required:""}}),t("h3",[e._v("Date of purchase by the company")]),t("input",{staticClass:"btn",attrs:{type:"date",id:"purchaseDate",name:"purchaseDate",required:""}}),t("h3",[e._v("Car Mileage (km)")]),t("input",{staticClass:"btn",attrs:{type:"number",id:"mileage",name:"mileage",required:""}}),t("input",{staticClass:"send",attrs:{type:"submit",name:"add",value:"Edit"},on:{click:e.edit}})])])},X=[],ee={name:"editCar",data(){return{}},methods:{async edit(){}}},te=ee,ae=(0,d.Z)(te,W,X,!1,null,"40427e49",null),se=ae.exports;s.ZP.use(u.Z);var re=new u.Z({routes:[{path:"/",name:"/",component:Z},{path:"/register",name:"Register",component:K},{path:"/login",name:"Login",component:R},{path:"/add",name:"Add",component:V},{path:"/cars/:carId",name:"editCar",component:se}]});s.ZP.config.productionTip=!1,new s.ZP({router:re,store:y,render:e=>e(c)}).$mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,i){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],i=e[c][2];for(var o=!0,d=0;d<s.length;d++)(!1&i||n>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[d])}))?s.splice(d--,1):(o=!1,i<n&&(n=i));if(o){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,n=s[0],o=s[1],d=s[2],l=0;if(n.some((function(t){return 0!==e[t]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(d)var c=d(a)}for(t&&t(s);l<n.length;l++)i=n[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(457)}));s=a.O(s)})();
//# sourceMappingURL=app.615a89e0.js.map